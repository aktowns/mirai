{"name":"Mirai","body":"![](http://i.imgur.com/vyS0s.png)  \r\n\r\n## About\r\nMirai is yet another ruby irc bot, focused on plugins supplying features over core features in the bot for example the only commands the bot provides without plugins are `about-plugin` and `help [plugin]`.  \r\n\r\nMirai is written using the wonderful [EventMachine](http://rubyeventmachine.com/) library, and uses [yaml](http://yaml.org/start.html) for configuration and [sqlite](https://github.com/luislavena/sqlite3-ruby) for storage and [daemons](http://daemons.rubyforge.org/) for background processing the builtin webserver is based on [thin](http://code.macournoyer.com/thin/). plugins may contain additional dependencies. \r\n\r\n## Why?\r\nBecause I can!, and have different ideas on what a good bot should look like. \r\n\r\n## How?\r\nAfter editing the config file (below) run `./runbot start` or to not background the process `./runbot start --ontop` \r\n\r\n\r\n## Configuration\r\n\r\n### Dependencies\r\nTo install the rubygem dependencies simply run `bundle install` in the root of the repo.  \r\nMirai should run on ruby 1.9.3.\r\n\r\n### config.yml\r\nMirai uses yaml for all configurations, to setup the bot you will need to open `config.yml` in your favourite editor.\r\nWhen writing plugins you will need to supply a `plugin-name.yml` file, check writing plugins below for more information.\r\n\r\n*TODO: expand on config*\r\n\r\n## Writing Plugins\r\nPlugins are subclasses of the `Miraii::Plugin` class and provide a few helper functions to get you started.  \r\nFirstly, lets create a hello world plugin.\r\n\r\n### Hello World\r\nThe folder structure should look similar to the following:  \r\nmirai   \r\n-> plugins    \r\n--> helloworld-plugin  \r\n---> helloworld-plugin.yml  \r\n---> helloworld.rb  \r\n\r\n`helloworld-plugin.yml` should consist of:  \r\n\r\n~~~~~ yaml\r\nName: Helloworld\r\nAuthor: Your name <you@email.com>\r\nVersion: 0.0.1\r\nType: Channel\r\nFiles: [ helloworld.rb ]\r\n~~~~~\r\n\r\n`helloworld.rb` should consist of:  \r\n\r\n~~~~~ ruby\r\nclass HelloworldPlugin < Mirai::Plugin\r\n\tdef on_register\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# Called when the plugin is initialized\r\n\t\tadd_channel_handler(/talktome (.*)$/, :test_handler) \t\t\t# ^talktome\r\n\t\tadd_web_handler(/helloworld/, :test_web_handler) \t\t\t\t# http://0.0.0.0:3000/helloworld\r\n\tend\r\n\r\n\tdef test_handler(info, what)\r\n\t\tprivmsg info[:chan], \"Well, Hello World! #{info[:nick]}. I don't know what #{what} is!\"\r\n\tend\r\n\r\n\tdef test_web_handler(env)\r\n\t\tprivmsg \"#achannel\", \"Hello world from the web!\"\r\n\t\t\"OK\" \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t# return text \"OK\" to the webrequest\r\n\tend\r\nend\r\n~~~~~\r\n\r\n*TODO: expand on plugins more*\r\n\r\n### Builtin Webserver\r\nMirai contains a built in webserver in order to write plugins for callbacks from webservices (github for instance)\r\n\r\n*TODO: expand expand*\r\n\r\n## Updates\r\n\r\n*TODO: self update plugin*\r\n*TODO: plugin auto updates*\r\n\r\n## Todo\r\n\r\n*TODO: todo*","tagline":"an eventmachine irc bot","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}